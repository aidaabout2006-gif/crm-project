<!-- <!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <title>مدیریت گروه‌ها</title>
    <style>
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 5px solid #ccc; padding: 10px; text-align: center; }
        th { background: #f5f5f5; }
        form { margin: 5; }
    </style>
</head>
<body>

<h2>لیست گروه‌ها</h2>
  فرم افزودن گروه -->
<!-- <form class="w-full max-w-md" action="../groups/add" method="post">
    <input type="text" name="group_name" placeholder="نام گروه جدید" required>
    <button type="submit">افزودن</button>
            <a href="/customers" class="text-blue-500 hover:underline">بازگشت</a>

</form>

<hr>

<table>
    <tr>
        <th>ID</th>
        <th>نام گروه</th>
        <th>عملیات</th>
    </tr>

    <% if (groups.length === 0) { %>
        <tr><td colspan="3">گروهی ثبت نشده</td></tr>
    <% } %>

    <% groups.forEach(g => { %>
        <tr>
            <td><%= g.id %></td>
            <td><%= g.group_name %></td>
            <td>
                <form action="/groups/delete" method="post" style="display:inline;">
                    <input type="hidden" name="id" value="<%= g.id %>">
                    <button type="submit">حذف</button>
                </form>
               
            </td>
        </tr>
    <% }) %>
</table>

</body>
</html> -->  




<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>مدیریت گروه‌ها</title>

  <style>
    * { box-sizing: border-box; font-family: sans-serif; }

    body { margin: 0; background: #f4f4f5; }

    .layout { display: flex; min-height: 100vh; }

    /* ===== Sidebar ===== */
    .sidebar {
      width: 250px;
      background: linear-gradient(180deg, #4f46e5, #4338ca);
      color: white;
      padding: 1.5rem 1rem;
      transition: transform 0.3s ease;
    }

    .sidebar h2 { text-align: center; margin-bottom: 2rem; }

    .sidebar a {
      display: block;
      padding: 0.9rem 1rem;
      border-radius: 12px;
      text-decoration: none;
      color: white;
      margin-bottom: 0.6rem;
      transition: background 0.2s;
    }

    .sidebar a:hover { background: rgba(255,255,255,0.2); }

    /* ===== Content ===== */
    .content { flex: 1; padding: 1.5rem; }

    .topbar { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; }

    .menu-btn {
      display: none;
      font-size: 22px;
      background: #4f46e5;
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 10px;
      cursor: pointer;
    }

    .card {
      background: white;
      padding: 1.5rem;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      margin-bottom: 1.5rem;
    }

    h1 { margin-top: 0; margin-bottom: 1rem; }

    .form-group {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    input {
      flex: 1;
      padding: 0.8rem;
      border-radius: 0.8rem;
      border: 1px solid #ddd;
      outline: none;
    }

    button {
      background: #4f46e5;
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 0.8rem;
      cursor: pointer;
    }

    button:hover { background: #4338ca; }

    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { padding: 0.9rem; text-align: center; border-bottom: 1px solid #eee; }
    th { background: #f3f4f6; }

    .btn-danger {
      background: #ef4444;
      padding: 0.5rem 1rem;
      border-radius: 0.6rem;
      border: none;
      cursor: pointer;
      color: white;
    }

    .btn-danger:hover { background: #dc2626; }

    .empty { color: #777; padding: 1.5rem; text-align: center; }

    /* ===== Mobile ===== */
    @media (max-width: 768px) {
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        transform: translateX(-100%);
        z-index: 1000;
      }

      .sidebar.active { transform: translateX(0); }

      .menu-btn { display: block; }

      .layout { flex-direction: column; }

      .overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.4);
        z-index: 900;
        display: none;
      }

      .overlay.active { display: block; }
    }
  </style>
</head>
<body>

<div class="layout">

  <!-- Sidebar -->
  <aside class="sidebar">
    <h2>CRM پنل</h2>
    <a href="/dashboard">داشبورد</a>
    <a href="/customers">مشتری‌ها</a>
    <a href="/groups">گروه‌ها</a>
    <a href="/users/logout">خروج</a>
  </aside>

  <!-- Content -->
  <main class="content">

    <div class="topbar">
      <button class="menu-btn" onclick="toggleMenu()">☰</button>
      <h3>مدیریت گروه‌ها</h3>
    </div>

    <!-- افزودن گروه -->
    <div class="card">
      <h1>افزودن گروه جدید</h1>
      <form action="/groups/add" method="POST" class="form-group">
        <input type="text" name="group_name" placeholder="نام گروه" required>
        <button type="submit">افزودن</button>
      </form>
    </div>

    <!-- لیست گروه‌ها -->
    <div class="card">
      <h1>لیست گروه‌ها</h1>
      <table>
        <tr>
          <th>ID</th>
          <th>نام گروه</th>
          <th>عملیات</th>
        </tr>

        <% if (groups.length === 0) { %>
          <tr>
            <td colspan="3" class="empty">هیچ گروهی ثبت نشده</td>
          </tr>
        <% } %>

        <% groups.forEach(g => { %>
          <tr>
            <td><%= g.id %></td>
            <td><%= g.group_name %></td>
            <td>
              <form action="/groups/delete" method="POST" style="display:inline;">
                <input type="hidden" name="id" value="<%= g.id %>">
                <button class="btn-danger">حذف</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </table>
    </div>

  </main>

</div>

<div class="overlay" onclick="toggleMenu()"></div>

<script>
  function toggleMenu() {
    document.querySelector('.sidebar').classList.toggle('active');
    document.querySelector('.overlay').classList.toggle('active');
  }
</script>

</body>
</html>


